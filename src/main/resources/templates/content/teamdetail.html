<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragments/layout}"
>
<head>
    <title>Space Reservation</title>
</head>
<th:block layout:fragment="content">
    <div class="container-detail">
        <div class="h_area">
            <h1 class="h_title">ìŠ¤í„°ë””ë£¸ ì œ1ë²ˆ ë£¸</h1>
            <p class="h_desc">ğŸˆ ì œëª© ì†Œê°œ í•œì¤„

            </p>
            <div class="tags">
                <div class="tag">#ì•ˆì–‘ì—­</div>
                <div class="tag">#ëª¨ì„ê³µê°„</div>
                <!-- ì¶”ê°€ì ì¸ íƒœê·¸ë“¤ì„ ì—¬ê¸°ì— ì¶”ê°€ -->
            </div>
        </div>
        <div class="inner_width">
            <div class="left_area">
                <!-- ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë“œ -->
                <div class="slider__wrap">
                    <div class="slider__img">
                        <div class="slider__inner">
                            <div class="slider s1"><img src="/assets/img/study.jpg" alt="Random Image"></div>
                            <div class="slider s2"><img src="/assets/img/jun.jpg" alt="Random Image"></div>
                            <div class="slider s3"><img src="/assets/img/study.jpg" alt="Random Image"></div>
                        </div>
                        <div class="slider__btn">
                            <a class="prev" title="ì´ì „ì´ë¯¸ì§€">prev</a>
                            <a class="next" title="ë‹¤ìŒì´ë¯¸ì§€">next</a>
                        </div>
                        <div class="slider__dot"></div>
                    </div>
                </div><!-- ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë“œ -->
                <div class="article">
                    <div class="space_intro section1">
                        <h2 id="one" class="two_title">ê³µê°„ ì†Œê°œ</h2>
                        <p>ìŠ¤í„°ë””ë£¸ì œì´ëŠ” ì„œìš¸ëŒ€ì…êµ¬ì—­ ê·¼ì²˜ì— ìœ„ì¹˜í•œ ìŠ¤í„°ë””ë£¸ìœ¼ë¡œ, ë‹¤ì–‘í•œ ëª¨ì„ì— ì í•©í•œ ê³µê°„ì…ë‹ˆë‹¤. ì²­ê²°í•˜ê³  ì•„ëŠ‘í•œ ë¶„ìœ„ê¸°ì—ì„œ ëª¨ì„ì„ ì¦ê¸°ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        <p class="h_desc">ğŸˆì„¼ì¸„ë¦¬íƒ€ì›Œ 10ì¸µ 1003í˜¸ì— ìœ„ì¹˜í•œ ìŠ¤í„°ë””ë£¸ì œì´ëŠ”<br>ëª¨ë“  ëª¨ì„ì— ì•Œë§ëŠ” ê³µê°„ìœ¼ë¡œ í•­ìƒ ì²­ê²°í•˜ê³  ì•„ëŠ‘í•˜ê²Œ ì¤€ë¹„ëœ ê³µê°„ ì…ë‹ˆë‹¤~
                        </p>
                    </div>
                    <div class="space_intro section2">
                        <h2 id="two" class="two_title">ì‹œì„¤ì•ˆë‚´</h2>
                        <p>ìŠ¤í„°ë””ë£¸ì œì´ëŠ” ì„œìš¸ëŒ€ì…êµ¬ì—­ ê·¼ì²˜ì— ìœ„ì¹˜í•œ ìŠ¤í„°ë””ë£¸ìœ¼ë¡œ, ë‹¤ì–‘í•œ ëª¨ì„ì— ì í•©í•œ ê³µê°„ì…ë‹ˆë‹¤. ì²­ê²°í•˜ê³  ì•„ëŠ‘í•œ ë¶„ìœ„ê¸°ì—ì„œ ëª¨ì„ì„ ì¦ê¸°ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        <p class="h_desc">ğŸˆì„¼ì¸„ë¦¬íƒ€ì›Œ 10ì¸µ 1003í˜¸ì— ìœ„ì¹˜í•œ ìŠ¤í„°ë””ë£¸ì œì´ëŠ”<br>ëª¨ë“  ëª¨ì„ì— ì•Œë§ëŠ” ê³µê°„ìœ¼ë¡œ í•­ìƒ ì²­ê²°í•˜ê³  ì•„ëŠ‘í•˜ê²Œ ì¤€ë¹„ëœ ê³µê°„ ì…ë‹ˆë‹¤~
                        </p>
                    </div>
                    <div class="space_intro section3">
                        <h2 id="three" class="two_title">ìœ ì˜ì‚¬í•­</h2>
                        <p>ìŠ¤í„°ë””ë£¸ì œì´ëŠ” ì„œìš¸ëŒ€ì…êµ¬ì—­ ê·¼ì²˜ì— ìœ„ì¹˜í•œ ìŠ¤í„°ë””ë£¸ìœ¼ë¡œ, ë‹¤ì–‘í•œ ëª¨ì„ì— ì í•©í•œ ê³µê°„ì…ë‹ˆë‹¤. ì²­ê²°í•˜ê³  ì•„ëŠ‘í•œ ë¶„ìœ„ê¸°ì—ì„œ ëª¨ì„ì„ ì¦ê¸°ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        <p class="h_desc">ğŸˆì„¼ì¸„ë¦¬íƒ€ì›Œ 10ì¸µ 1003í˜¸ì— ìœ„ì¹˜í•œ ìŠ¤í„°ë””ë£¸ì œì´ëŠ”<br>ëª¨ë“  ëª¨ì„ì— ì•Œë§ëŠ” ê³µê°„ìœ¼ë¡œ í•­ìƒ ì²­ê²°í•˜ê³  ì•„ëŠ‘í•˜ê²Œ ì¤€ë¹„ëœ ê³µê°„ ì…ë‹ˆë‹¤~
                        </p>
                    </div>
                    <div class="space_intro section4">
                        <h2 id="four" class="two_title">í™˜ë¶ˆì •ì±…</h2>
                        <p>ìŠ¤í„°ë””ë£¸ì œì´ëŠ” ì„œìš¸ëŒ€ì…êµ¬ì—­ ê·¼ì²˜ì— ìœ„ì¹˜í•œ ìŠ¤í„°ë””ë£¸ìœ¼ë¡œ, ë‹¤ì–‘í•œ ëª¨ì„ì— ì í•©í•œ ê³µê°„ì…ë‹ˆë‹¤. ì²­ê²°í•˜ê³  ì•„ëŠ‘í•œ ë¶„ìœ„ê¸°ì—ì„œ ëª¨ì„ì„ ì¦ê¸°ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        <p class="h_desc">ğŸˆì„¼ì¸„ë¦¬íƒ€ì›Œ 10ì¸µ 1003í˜¸ì— ìœ„ì¹˜í•œ ìŠ¤í„°ë””ë£¸ì œì´ëŠ”<br>ëª¨ë“  ëª¨ì„ì— ì•Œë§ëŠ” ê³µê°„ìœ¼ë¡œ í•­ìƒ ì²­ê²°í•˜ê³  ì•„ëŠ‘í•˜ê²Œ ì¤€ë¹„ëœ ê³µê°„ ì…ë‹ˆë‹¤~
                        </p>
                    </div>
                    <div class="space_intro section5">
                        <h2 id="five" class="two_title">Q&A</h2>
                        <p>ìŠ¤í„°ë””ë£¸ì œì´ëŠ” ì„œìš¸ëŒ€ì…êµ¬ì—­ ê·¼ì²˜ì— ìœ„ì¹˜í•œ ìŠ¤í„°ë””ë£¸ìœ¼ë¡œ, ë‹¤ì–‘í•œ ëª¨ì„ì— ì í•©í•œ ê³µê°„ì…ë‹ˆë‹¤. ì²­ê²°í•˜ê³  ì•„ëŠ‘í•œ ë¶„ìœ„ê¸°ì—ì„œ ëª¨ì„ì„ ì¦ê¸°ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        <p class="h_desc">ğŸˆì„¼ì¸„ë¦¬íƒ€ì›Œ 10ì¸µ 1003í˜¸ì— ìœ„ì¹˜í•œ ìŠ¤í„°ë””ë£¸ì œì´ëŠ”<br>ëª¨ë“  ëª¨ì„ì— ì•Œë§ëŠ” ê³µê°„ìœ¼ë¡œ í•­ìƒ ì²­ê²°í•˜ê³  ì•„ëŠ‘í•˜ê²Œ ì¤€ë¹„ëœ ê³µê°„ ì…ë‹ˆë‹¤~
                        </p>
                    </div>
                    <div class="space_intro section6">
                        <h2 id="six" class="two_title">ì´ìš©í›„ê¸°</h2>
                        <p>ìŠ¤í„°ë””ë£¸ì œì´ëŠ” ì„œìš¸ëŒ€ì…êµ¬ì—­ ê·¼ì²˜ì— ìœ„ì¹˜í•œ ìŠ¤í„°ë””ë£¸ìœ¼ë¡œ, ë‹¤ì–‘í•œ ëª¨ì„ì— ì í•©í•œ ê³µê°„ì…ë‹ˆë‹¤. ì²­ê²°í•˜ê³  ì•„ëŠ‘í•œ ë¶„ìœ„ê¸°ì—ì„œ ëª¨ì„ì„ ì¦ê¸°ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        <p class="h_desc">ğŸˆì„¼ì¸„ë¦¬íƒ€ì›Œ 10ì¸µ 1003í˜¸ì— ìœ„ì¹˜í•œ ìŠ¤í„°ë””ë£¸ì œì´ëŠ”<br>ëª¨ë“  ëª¨ì„ì— ì•Œë§ëŠ” ê³µê°„ìœ¼ë¡œ í•­ìƒ ì²­ê²°í•˜ê³  ì•„ëŠ‘í•˜ê²Œ ì¤€ë¹„ëœ ê³µê°„ ì…ë‹ˆë‹¤~
                        </p>
                    </div>

                </div>

                <!-- ì˜ˆì•½ ë²„íŠ¼ì€ ì•„ë˜ë¡œ ì´ë™ -->
            </div>
            <div class="side_container">
                <div class="payment_info">
                    <h2 class="payment_title">ê²°ì œ ì•ˆë‚´ (1ì¸ ì‹œê°„ë‹¹ ê°€ê²©)</h2>
                    <div class="payment_option">
                        <input type="radio" id="price1" name="price" value="1000">
                        <label for="price1">1000ì›</label><br>
                    </div>
                    <div class="payment_option">
                        <input type="radio" id="price2" name="price" value="2000">
                        <label for="price2">2000ì›</label><br>
                    </div>
                </div>
                <!---->
                <div class="space_info_wrap active">
                    <div class="meetspace-info">
                        <div class="meetspace-info-photo">
                            <img src="/assets/img/study.jpg" alt="Random Image">
                            <!--                            <em class="rooms meetspace-info-photo__count">+6</em>-->
                        </div>
                        <p class="meetspace-info-desc">
                            ì¹´ì¹´ì˜¤ì±„ë„ "ê³µíŠœë””ì˜¤" ê²€ìƒ‰ í›„ ë¬¸ì˜ ì£¼ì‹œë©´ ë¹ ë¥´ê²Œ ë‹µë³€ ë„ì™€ë“œë¦´ê²Œìš”!<br>
                            <br>
                            â€¢12ì¸ìš© ì±…ìƒ+ì˜ì<br>
                            â€¢TV,ë¹”í”„ë¡œì íŠ¸,í™”ì´íŠ¸ë³´ë“œ,ì¡°ëª…,ì‚¼ê°ëŒ€,ë¸”ë£¨íˆ¬ìŠ¤ìŠ¤í”¼ì»¤<br>
                            â€¢íŒŒí‹°ë¹”+íŒŒí‹°ìš©í’ˆ ë¬´ë£Œì‚¬ìš©<br>
                            â€¢ì •ìˆ˜ê¸°,ì‹±í¬ëŒ€,ì»¤í”¼,í‹°,ê°„ì‹ ì œê³µ<br>
                            â€¢ê³ ì† ì™€ì´íŒŒì´<br>
                            â€¢ë‚´ë¶€ í™”ì¥ì‹¤
                        </p>
                    </div>
                    <ul class="list_detail">
                        <li><span class="tit">ê³µê°„ìœ í˜•</span>
                            <span class="data">
                                <span>íšŒì˜ì‹¤ </span>
                                <span>ìŠ¤í„°ë””ë£¸ </span>
                            </span></li>
                        <li><span class="tit" style="margin-top: 2px;">ê³µê°„ë©´ì </span>
                            <div style="display: flex;">
                                <span class="data" style="margin-top: 3px;">30ã¡</span>
                            </div>
                        </li>
                        <li><span class="tit">ì˜ˆì•½ì‹œê°„</span>
                            <span class="data">ìµœì†Œ 2ì‹œê°„ ë¶€í„°</span>
                        </li>
                        <li><span class="tit">ìˆ˜ìš©ì¸ì›</span>
                            <span class="data">ìµœì†Œ 3ëª… ~ ìµœëŒ€ 12ëª…</span>
                        </li>
                    </ul>
                    <div class="facility_wrap">
                        <ul class="facility_list">
                            <li><i class="sp_icon ico_table"></i> <span class="txt_name">
                      ì˜ì/
                      <em class="br">í…Œì´ë¸”</em></span></li><li><i class="sp_icon ico_cooking"></i> <span class="txt_name">
                      ì·¨ì‚¬ì‹œì„¤
                            <!----></span></li><li><i class="sp_icon ico_electricity"></i> <span class="txt_name">
                      ì „ê¸°
                            <!----></span></li><li><i class="sp_icon ico_equipment_rental"></i> <span class="txt_name">
                      ì¥ë¹„ëŒ€ì—¬
                            <!----></span></li><li><i class="sp_icon ico_mirror"></i> <span class="txt_name">
                      ì „ì‹ ê±°ìš¸
                            <!----></span></li><li><i class="sp_icon ico_food"></i> <span class="txt_name">
                      ìŒì‹ë¬¼
                      <em class="br">ë°˜ì…ê°€ëŠ¥</em></span></li><li><i class="sp_icon ico_hot_water"></i> <span class="txt_name">
                      ì˜¨ìˆ˜
                            <!----></span></li><li><i class="sp_icon ico_toilet"></i> <span class="txt_name">
                      ë‚´ë¶€
                      <em class="br">í™”ì¥ì‹¤</em></span></li><li><i class="sp_icon ico_lounge"></i> <span class="txt_name">
                      ê³µìš©
                      <em class="br">ë¼ìš´ì§€</em></span></li><li><i class="sp_icon ico_tvnprojector"></i> <span class="txt_name">
                      TV/
                      <em class="br">í”„ë¡œì í„°</em></span></li><li><i class="sp_icon ico_wboard"></i> <span class="txt_name">
                      í™”ì´íŠ¸
                      <em class="br">ë³´ë“œ</em></span></li><li><i class="sp_icon ico_wifi"></i> <span class="txt_name">
                      ì¸í„°ë„·/
                      <em class="br">WIFI</em></span></li>
                        </ul>
                    </div>
                    <h2 class="meetspace-heading">ì˜ˆì•½ì„ íƒ</h2>
                    <div class="meetspace-radio">
                        <div class="meetspace-radio-item">
                            <input id="time_reservation" type="radio" class="radio" value="TIME">
                            <label for="time_reservation">ì‹œê°„ ë‹¨ìœ„ ì˜ˆì•½í•˜ê¸°(ìµœì†Œ 2ì‹œê°„ ë¶€í„°)</label>
                        </div>

                        <div class="meetspace-option">
                            <div class="heading hidden">
                                <h3>ë‚ ì§œ ì„ íƒ</h3>
                            </div>
                            <div class="calendar hidden">
                                <table class="scriptCalendar">
                                    <thead>
                                    <tr>
                                        <td class="calendarBtn" id="btnPrevCalendar">&#60;&#60;</td>
                                        <td colspan="5">
                                            <span id="calYear">YYYY</span>ë…„
                                            <span id="calMonth">MM</span>ì›”
                                        </td>
                                        <td class="calendarBtn" id="nextNextCalendar">&#62;&#62;</td>
                                    </tr>
                                    <tr>
                                        <td>ì¼</td>
                                        <td>ì›”</td>
                                        <td>í™”</td>
                                        <td>ìˆ˜</td>
                                        <td>ëª©</td>
                                        <td>ê¸ˆ</td>
                                        <td>í† </td>
                                    </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                            <h3 id="hour-selection-header" class="hidden">ì‹œê°„ ì„ íƒ</h3>
                            <div id="hour-buttons" class="hidden">
                                <!-- JavaScriptë¡œ ë²„íŠ¼ì„ ë™ì ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤. -->
                            </div>
                        </div>

                        <article class="box_form meetspace-count">
                            <div class="heading">
                                <h3>ì´ ì˜ˆì•½ì¸ì›</h3>
                                <span>(ìµœì†Œ 3ëª… / ìµœëŒ€ 12ëª…)</span>
                            </div>
                            <div class="box_setting">
                                <a class="btn_minus">
                                    <i class="sp_icon ico_minus">-</i>
                                </a>
                                <span class="input">
                                    <input type="text" class="number_set" value="3" min="3" max="12">
                                </span>
                                <a class="btn_plus">
                                    <i class="sp_icon ico_plus">+</i>
                                </a>
                            </div>
                            <div class="pay">
                                <h3>ê³µê°„ ì‚¬ìš©ë£Œ</h3>
                                <h2 class="price"></h2>
                            </div>
                            <button type="button" class="btn btn-primary" onclick="handleReservationClick()" data-bs-toggle="modal" data-bs-target="#exampleModal">
                                ì˜ˆì•½í•˜ê¸°
                            </button>
                            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="exampleModalLabel">ì˜ˆì•½ ì •ë³´</h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <p id="modal-content"></p> <!-- ì—¬ê¸°ì— ì˜ˆì•½ ì •ë³´ê°€ í‘œì‹œë©ë‹ˆë‹¤. -->
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="ModalSecondBtn()">ì·¨ì†Œ</button>
                                            <button type="button" class="btn btn-primary" id="orderbtn" data-bs-dismiss="modal">ì˜ˆì•½</button>
                                            <button type="button" class="btn btn-secondary check" data-bs-dismiss="modal">í™•ì¸</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
            <!---->


        </div>
    </div>
    </div>

    <!-- ìŠ¬ë¼ì´ë” ì‹œì‘-->
    <script>
        const sliderWrap = document.querySelector(".slider__wrap");
        const sliderInner = sliderWrap.querySelector(".slider__inner");
        const sliders = sliderWrap.querySelectorAll(".slider");
        const sliderDot = sliderWrap.querySelector(".slider__dot");
        const sliderBtn = sliderWrap.querySelectorAll(".slider__btn a");

        let currentIndex = 0;
        const sliderCount = sliders.length;
        const sliderWidth = 780; // ìŠ¬ë¼ì´ë“œ ì´ë¯¸ì§€ì˜ ë„ˆë¹„ ì„¤ì • (ì‚¬ìš©ìê°€ í•„ìš”í•œ ê°’ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”)

        function init() {
            // ì´ë¯¸ì§€ ê°¯ìˆ˜ë§Œí¼ ë‹· ë©”ë‰´ ìƒì„±
            let dotIndex = "";
            sliders.forEach(() => dotIndex += "<a href='#' class='dot'>ì´ë¯¸ì§€</a>");
            sliderDot.innerHTML = dotIndex;

            // ì²«ë²ˆì§¸ ë‹· ë©”ë‰´ì— í™œì„±í™” í‘œì‹œ
            sliderDot.firstChild.classList.add("active");
        }
        init();

        function gotoSlider(num) {
            // ìŠ¬ë¼ì´ë“œ ì´ë¯¸ì§€ì˜ ë„ˆë¹„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì´ë™ ê±°ë¦¬ ê³„ì‚°
            const translateXValue = -sliderWidth * num;
            sliderInner.style.transition = "all 400ms";
            sliderInner.style.transform = "translateX(" + translateXValue + "px)";
            currentIndex = num;

            // ë‹· ë©”ë‰´ í™œì„±í™” ì²˜ë¦¬
            let dotActive = document.querySelectorAll(".slider__dot .dot");
            dotActive.forEach((active) => active.classList.remove("active"));
            dotActive[num].classList.add("active");
        }

        // ë²„íŠ¼ í´ë¦­ ì‹œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
        sliderBtn.forEach((btn, index) => {
            btn.addEventListener("click", () => {
                // ì´ì „(pre) ë²„íŠ¼ í´ë¦­ ì‹œ
                if (btn.classList.contains("prev")) {
                    let prevIndex = (currentIndex + sliderCount - 1) % sliderCount;
                    gotoSlider(prevIndex);
                }
                // ë‹¤ìŒ(next) ë²„íŠ¼ í´ë¦­ ì‹œ
                else {
                    let nextIndex = (currentIndex + 1) % sliderCount;
                    gotoSlider(nextIndex);
                }
            });
        });
    </script><!-- ìŠ¬ë¼ì´ë” ë-->

    <script>
        //ê²°ì œì•ˆë‚´ ë¼ë””ì˜¤ë²„íŠ¼ 1000ì›/ 2000ì›  (ì‹œê°„ë‹¹ê°€ê²©)
        document.addEventListener("DOMContentLoaded", function() {
            const defaultPriceRadioButton = document.getElementById("price1");
            defaultPriceRadioButton.checked = true;
            //ì˜ˆì•½ì„ íƒ ë¼ë””ì˜¤ë²„íŠ¼ ì„ íƒì‹œ ë‚ ì§œ ì„ íƒë³´ì´ê²Œ í•˜ê¸°
            const reservationRadio = document.querySelector('input[value="TIME"]');
            const dateHeading = document.querySelector('.heading');
            const calendar = document.querySelector('.calendar');
            //ì˜ˆì•½ì„ íƒ ë¼ë””ì˜¤ë²„íŠ¼ ëˆ„ë¥´ë©´ ìº˜ë¦°ë” ë³´ì—¬ì¤Œ
            reservationRadio.addEventListener('change', function() {
                dateHeading.classList.remove('hidden');
                calendar.classList.remove('hidden');
            });
        });
    </script>
    <!-- ë‚ ì§œ ìº˜ë¦°ë” + ì‹œê°„ ì„ íƒ + ì¸ì›ìˆ˜ + ì˜ˆì•½  -->
    <script type="text/javascript">
        let firstSelectedButton = null;  //ì‹œê°„ì„ íƒ ì²«ë²ˆì§¸ ë²„íŠ¼
        let secondSelectedButton = null;  //ì‹œê°„ì„ íƒ ë‘ë²ˆì§¸ ë²„íŠ¼
        let selectedDates = {};

        document.addEventListener("DOMContentLoaded", function() {
            buildCalendar(); //ìº˜ë¦°ë” ë³´ì—¬ì£¼ê¸° jsë¡œì‘ì„±

            document.getElementById("btnPrevCalendar").addEventListener("click", function (event) {
                prevCalendar(); //ì „ë‹¬ë ¥ìœ¼ë¡œ ë„˜ì–´ê°€ê¸°
            });

            document.getElementById("nextNextCalendar").addEventListener("click", function (event) {
                nextCalendar();  //ë‹¤ìŒë‹¬ë ¥ìœ¼ë¡œ ë„˜ì–´ê°€ê¸°
            });
        });
        // ì˜ˆì•½ë²„íŠ¼ ëˆ„ë¥´ê³   -> ì·¨ì†Œë²„íŠ¼
        function ModalSecondBtn() {
            // ëª¨ë“  selected í´ë˜ìŠ¤ë¥¼ ì œê±°
            document.querySelectorAll('.hour-button .selected').forEach(button => {
                button.classList.remove('selected');
            });
            clearReservation();
            clearSpaceFee();
            clearHourSelection();
            selectedDates = {};
        }

        function handleReservationClick(){
            const selectedDay = document.querySelector('.choiceDay').innerText;
            const selectedHours = selectedDates[selectedDay] || [];
            const numberSet = document.querySelector('.number_set').value;
            const priceElement = document.querySelector('.price').innerText;
            let modalContent = "";

            // ë¼ë””ì˜¤ ë²„íŠ¼ ì„ íƒ ì—¬ë¶€ í™•ì¸
            const timeReservationRadio = document.getElementById('time_reservation');
            if (!timeReservationRadio.checked) { // ë¼ë””ì˜¤ ë²„íŠ¼ í´ë¦­ ì•ˆí–ˆì„ë•Œ
                modalContent = `
                    <p>ì˜ˆì•½ì„ íƒì˜ ë¼ë””ì˜¤ë²„íŠ¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</p>
                `;
                document.getElementById('modal-content').innerHTML = modalContent;

                // í™•ì¸ ë²„íŠ¼ë§Œ ë³´ì´ê²Œ í•¨
                document.querySelector('.modal-footer .btn-secondary').style.display = 'none';
                document.querySelector('.modal-footer .btn-primary').style.display = 'none';
                document.querySelector('.modal-footer .check').style.display = 'block';
            } else if (!selectedDay) { // ë‚ ì§œ ì„ íƒ ì•ˆí–ˆì„ë•Œ
                modalContent = `
                    <p>ìº˜ë¦°ë”ì˜ ë‚ ì§œë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”.</p>
                `;
                document.getElementById('modal-content').innerHTML = modalContent;

                // í™•ì¸ ë²„íŠ¼ë§Œ ë³´ì´ê²Œ í•¨
                document.querySelector('.modal-footer .btn-secondary').style.display = 'none';
                document.querySelector('.modal-footer .btn-primary').style.display = 'none';
                document.querySelector('.modal-footer .check').style.display = 'block';
            } else if (selectedHours.length === 0) { // ì‹œê°„ ì„ íƒ ì•ˆí–ˆì„ë•Œ
                modalContent = `
                    <p>ì˜ˆì•½í•  ì‹œê°„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</p>
                `;
                document.getElementById('modal-content').innerHTML = modalContent;

                // í™•ì¸ ë²„íŠ¼ë§Œ ë³´ì´ê²Œ í•¨
                document.querySelector('.modal-footer .btn-secondary').style.display = 'none';
                document.querySelector('.modal-footer .btn-primary').style.display = 'none';
                document.querySelector('.modal-footer .check').style.display = 'block';
            } else { // ëª¨ë‘ ë‹¤ ì„ íƒ í–ˆì„ ë•Œ
                const selectedDateFormatted = toDay.getFullYear() + '-' + autoLeftPad((toDay.getMonth() + 1), 2) + '-' + autoLeftPad(selectedDay, 2);
                // ì„ íƒëœ ì‹œê°„ ì¤‘ ì²« ë²ˆì§¸ì™€ ë§ˆì§€ë§‰ ì‹œê°„ ì¶”ì¶œ
                const firstSelectedHour = autoLeftPad(selectedHours[0], 2);
                const lastSelectedHour = autoLeftPad(selectedHours[selectedHours.length - 1] + 1, 2);
                modalContent = `
                    <p>ë‚ ì§œ: ${selectedDateFormatted}</p>
                    <p>ì‹œê°„:  ${firstSelectedHour}ì‹œ ~ ${lastSelectedHour}ì‹œ</p>
                    <p>ì¸ì›: ${numberSet}ëª…</p>
                    <p>ê³µê°„ ì‚¬ìš©ë£Œ: ${priceElement}</p>
                `;
                document.getElementById('modal-content').innerHTML = modalContent;

                // ì·¨ì†Œ ë° ì˜ˆì•½ ë²„íŠ¼ ë³´ì´ê²Œ í•¨
                document.querySelector('.modal-footer .btn-secondary').style.display = 'block';
                document.querySelector('.modal-footer .btn-primary').style.display = 'block';
                document.querySelector('.modal-footer .check').style.display = 'none';

                orderbtn(selectedDateFormatted, firstSelectedHour, lastSelectedHour, numberSet, priceElement);

                // ajax ì²˜ë¦¬
                // ì˜ˆì•½ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
                // const reservationClickHandler = function() {
                    // document.querySelector('.modal-footer .btn-primary').removeEventListener('click', reservationClickHandler);
                // };

                // document.querySelector('.modal-footer .btn-primary').removeEventListener('click', reservationClickHandler);
                // document.querySelector('.modal-footer .btn-primary').addEventListener('click', reservationClickHandler);
            }

        }

        function orderbtn(selectedDateFormatted, firstSelectedHour, lastSelectedHour, numberSet, priceElement) {
            document.querySelectorAll('.hour-button .selected').forEach(button => {
                button.classList.remove('selected');
                button.classList.add('blur');
            });

            // ì˜ˆì•½ ì •ë³´ ì´ˆê¸°í™”
            document.getElementById("orderbtn").addEventListener("click", function (event) {
                console.log('------------');
                console.log('ì˜ˆì•½ ì •ë³´:ì™„ë£Œì •ë³´');
                console.log('ë‚ ì§œ:', selectedDateFormatted);
                console.log('ì‹œê°„:', firstSelectedHour + 'ì‹œ ~ ' + lastSelectedHour + 'ì‹œ');
                console.log('ì¸ì›:', numberSet + 'ëª…');
                console.log('ê³µê°„ ì‚¬ìš©ë£Œ:', priceElement);

                clearReservation();
                clearSpaceFee();
                clearHourSelection();

                alert(numberSet + "ì˜ˆì•½ì™„ë£Œ");
            });
        }
            // ì˜ˆì•½í•˜ê¸°ë²„íŠ¼
        // document.querySelector('.btn-primary[data-bs-target="#exampleModal"]').addEventListener('click', function handleReservationClick() {
        //     const selectedDay = document.querySelector('.choiceDay').innerText;
        //     const selectedHours = selectedDates[selectedDay] || [];
        //     const numberSet = document.querySelector('.number_set').value;
        //     const priceElement = document.querySelector('.price').innerText;
        //     let modalContent = "";
        //
        //     let selectedDateFormatted = null;
        //     let firstSelectedHour = null;
        //     let lastSelectedHour = null;
        //
        //     // ë¼ë””ì˜¤ ë²„íŠ¼ ì„ íƒ ì—¬ë¶€ í™•ì¸
        //     const timeReservationRadio = document.getElementById('time_reservation');
        //     if (!timeReservationRadio.checked) { // ë¼ë””ì˜¤ ë²„íŠ¼ í´ë¦­ ì•ˆí–ˆì„ë•Œ
        //         modalContent = `
        //             <p>ì˜ˆì•½ì„ íƒì˜ ë¼ë””ì˜¤ë²„íŠ¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</p>
        //         `;
        //         document.getElementById('modal-content').innerHTML = modalContent;
        //
        //         // í™•ì¸ ë²„íŠ¼ë§Œ ë³´ì´ê²Œ í•¨
        //         document.querySelector('.modal-footer .btn-secondary').style.display = 'none';
        //         document.querySelector('.modal-footer .btn-primary').style.display = 'none';
        //         document.querySelector('.modal-footer .check').style.display = 'block';
        //     } else if (!selectedDay) { // ë‚ ì§œ ì„ íƒ ì•ˆí–ˆì„ë•Œ
        //         modalContent = `
        //             <p>ìº˜ë¦°ë”ì˜ ë‚ ì§œë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”.</p>
        //         `;
        //         document.getElementById('modal-content').innerHTML = modalContent;
        //
        //         // í™•ì¸ ë²„íŠ¼ë§Œ ë³´ì´ê²Œ í•¨
        //         document.querySelector('.modal-footer .btn-secondary').style.display = 'none';
        //         document.querySelector('.modal-footer .btn-primary').style.display = 'none';
        //         document.querySelector('.modal-footer .check').style.display = 'block';
        //     } else if (selectedHours.length === 0) { // ì‹œê°„ ì„ íƒ ì•ˆí–ˆì„ë•Œ
        //         modalContent = `
        //             <p>ì˜ˆì•½í•  ì‹œê°„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</p>
        //         `;
        //         document.getElementById('modal-content').innerHTML = modalContent;
        //
        //         // í™•ì¸ ë²„íŠ¼ë§Œ ë³´ì´ê²Œ í•¨
        //         document.querySelector('.modal-footer .btn-secondary').style.display = 'none';
        //         document.querySelector('.modal-footer .btn-primary').style.display = 'none';
        //         document.querySelector('.modal-footer .check').style.display = 'block';
        //     } else { // ëª¨ë‘ ë‹¤ ì„ íƒ í–ˆì„ ë•Œ
        //         selectedDateFormatted = toDay.getFullYear() + '-' + autoLeftPad((toDay.getMonth() + 1), 2) + '-' + autoLeftPad(selectedDay, 2);
        //         // ì„ íƒëœ ì‹œê°„ ì¤‘ ì²« ë²ˆì§¸ì™€ ë§ˆì§€ë§‰ ì‹œê°„ ì¶”ì¶œ
        //         firstSelectedHour = autoLeftPad(selectedHours[0], 2);
        //         lastSelectedHour = autoLeftPad(selectedHours[selectedHours.length - 1] + 1, 2);
        //         modalContent = `
        //             <p>ë‚ ì§œ: ${selectedDateFormatted}</p>
        //             <p>ì‹œê°„:  ${firstSelectedHour}ì‹œ ~ ${lastSelectedHour}ì‹œ</p>
        //             <p>ì¸ì›: ${numberSet}ëª…</p>
        //             <p>ê³µê°„ ì‚¬ìš©ë£Œ: ${priceElement}</p>
        //         `;
        //         document.getElementById('modal-content').innerHTML = modalContent;
        //
        //         // ì·¨ì†Œ ë° ì˜ˆì•½ ë²„íŠ¼ ë³´ì´ê²Œ í•¨
        //         document.querySelector('.modal-footer .btn-secondary').style.display = 'block';
        //         document.querySelector('.modal-footer .btn-primary').style.display = 'block';
        //         document.querySelector('.modal-footer .check').style.display = 'none';
        //
        //
        //         console.log('------------');
        //         console.log('ì˜ˆì•½ ì •ë³´:');
        //         console.log('ë‚ ì§œ:', selectedDateFormatted);
        //         console.log('ì‹œê°„:', firstSelectedHour + 'ì‹œ ~ ' + lastSelectedHour + 'ì‹œ');
        //         console.log('ì¸ì›:', numberSet + 'ëª…');
        //         console.log('ê³µê°„ ì‚¬ìš©ë£Œ:', priceElement);
        //         // ì˜ˆì•½ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        //         const reservationClickHandler = function() {
        //             // ì˜ˆì•½ ì •ë³´ ì´ˆê¸°í™”
        //             clearReservation();
        //             clearSpaceFee();
        //             clearHourSelection();
        //
        //             document.querySelector('.modal-footer .btn-primary').removeEventListener('click', reservationClickHandler);
        //
        //         };
        //
        //         document.querySelector('.modal-footer .btn-primary').removeEventListener('click', reservationClickHandler);
        //         document.querySelector('.modal-footer .btn-primary').addEventListener('click', reservationClickHandler);
        //     }
        // });



        var toDay = new Date(); // @param ì „ì—­ ë³€ìˆ˜, ì˜¤ëŠ˜ ë‚ ì§œ / ë‚´ ì»´í“¨í„° ë¡œì»¬ì„ ê¸°ì¤€ìœ¼ë¡œ toDayì— Date ê°ì²´ë¥¼ ë„£ì–´ì¤Œ
        var nowDate = new Date();  // @param ì „ì—­ ë³€ìˆ˜, ì‹¤ì œ ì˜¤ëŠ˜ë‚ ì§œ ê³ ì •ê°’

        /**
         * @brief   ì´ì „ë‹¬ ë²„íŠ¼ í´ë¦­ì‹œ
         */
        function prevCalendar() {
            this.toDay = new Date(toDay.getFullYear(), toDay.getMonth() - 1, toDay.getDate());
            buildCalendar();    // @param ì „ì›” ìº˜ë¦°ë” ì¶œë ¥ ìš”ì²­
        }

        /**
         * @brief   ë‹¤ìŒë‹¬ ë²„íŠ¼ í´ë¦­ì‹œ
         */
        function nextCalendar() {
            this.toDay = new Date(toDay.getFullYear(), toDay.getMonth() + 1, toDay.getDate());
            buildCalendar();    // @param ëª…ì›” ìº˜ë¦°ë” ì¶œë ¥ ìš”ì²­
        }

        /**
         * @brief   ìº˜ë¦°ë” ì˜¤í”ˆ
         * @details ë‚ ì§œ ê°’ì„ ë°›ì•„ ìº˜ë¦°ë” í¼ì„ ìƒì„±í•˜ê³ , ë‚ ì§œê°’ì„ ì±„ì›Œë„£ëŠ”ë‹¤.
         */


        function buildCalendar() {
            let doMonth = new Date(toDay.getFullYear(), toDay.getMonth(), 1); //ì²«ë²ˆì§¸ ë‚ ì§œ(day)
            let lastDate = new Date(toDay.getFullYear(), toDay.getMonth() + 1, 0); //ë§ˆì§€ë§‰ ë‚ ì§œ(day), 0ì€ ì „ë‹¬ì˜ ë§ˆì§€ë§‰ë‚ ì§œ
            let tbCalendar = document.querySelector(".scriptCalendar > tbody");

            document.getElementById("calYear").innerText = toDay.getFullYear(); // @param YYYYì›”
            document.getElementById("calMonth").innerText = autoLeftPad((toDay.getMonth() + 1), 2); // @param MMì›” 2ëŠ” 2ê°œë¡œí‘œì‹œautoLeftë¡œ ìë¦¬í•˜ë‚˜ë‚¨ìœ¼ë©´0ìœ¼ë¡œì±„ì›€

            // @details ì´ì „ ìº˜ë¦°ë”ì˜ ì¶œë ¥ê²°ê³¼ê°€ ë‚¨ì•„ìˆë‹¤ë©´, ì´ì „ ìº˜ë¦°ë”ë¥¼ ì‚­ì œí•œë‹¤.
            while (tbCalendar.rows.length > 0) {
                tbCalendar.deleteRow(tbCalendar.rows.length - 1);
            }

            // @param ì²«ë²ˆì§¸ ê°œí–‰
            let row = tbCalendar.insertRow();

            // @param ë‚ ì§œê°€ í‘œê¸°ë  ì—´ì˜ ì¦ê°€ê°’
            let dom = 1;
            let uniqueId = 1;
            // @details ì‹œì‘ì¼ì˜ ìš”ì¼ê°’( doMonth.getDay() ) + í•´ë‹¹ì›”ì˜ ì „ì²´ì¼( lastDate.getDate())ì„ ë”í•´ì¤€ ê°’ì—ì„œ
            // 7ë¡œ ë‚˜ëˆˆê°’ì„ ì˜¬ë¦¼( Math.ceil() )í•˜ê³  ë‹¤ì‹œ ì‹œì‘ì¼ì˜ ìš”ì¼ê°’( doMonth.getDay() )ì„ ë¹¼ì¤€ë‹¤.
            let daysLength = (Math.ceil((doMonth.getDay() + lastDate.getDate()) / 7) * 7) - doMonth.getDay();

            // @param ë‹¬ë ¥ ì¶œë ¥
            // @details ì‹œì‘ê°’ì€ 1ì¼ì„ ì§ì ‘ ì§€ì •í•˜ê³  ìš”ì¼ê°’( doMonth.getDay() )ë¥¼ ë¹¼ì„œ ë§ˆì´ë„ˆìŠ¤( - )ë¡œ forë¬¸ì„ ì‹œì‘í•œë‹¤.
            for (let day = 1 - doMonth.getDay(); daysLength >= day; day++) {
                let column = row.insertCell();
                column.id = `day-${toDay.getFullYear()}-${autoLeftPad(toDay.getMonth() + 1, 2)}-${autoLeftPad(day, 2)}`; // Assign a unique ID to each cell with date string
                uniqueId++; // Increment the unique ID counter

                // @param í‰ì¼( ì „ì›”ì¼ê³¼ ìµì›”ì¼ì˜ ë°ì´í„° ì œì™¸ )
                if (Math.sign(day) == 1 && lastDate.getDate() >= day) {
                    // @param í‰ì¼ ë‚ ì§œ ë°ì´í„° ì‚½ì…
                    column.innerText = autoLeftPad(day, 2);

                    // @param ì¼ìš”ì¼ì¸ ê²½ìš°
                    if (dom % 7 == 1) {
                        column.style.color = "#FF4D4D";
                    }

                    // @param í† ìš”ì¼ì¸ ê²½ìš°
                    if (dom % 7 == 0) {
                        column.style.color = "#4D4DFF";
                        row = tbCalendar.insertRow(); // @param í† ìš”ì¼ì´ ì§€ë‚˜ë©´ ë‹¤ì‹œ ê°€ë¡œ í–‰ì„ í•œì¤„ ì¶”ê°€í•œë‹¤.
                    }

                    // Save selected hours for the date if not already done
                    if (!selectedDates[autoLeftPad(day, 2)]) {
                        selectedDates[autoLeftPad(day, 2)] = [];
                    }

                    // @param í‰ì¼ ì „ì›”ì¼ê³¼ ìµì›”ì¼ì˜ ë°ì´í„° ë‚ ì§œë³€ê²½
                } else {
                    let exceptDay = new Date(doMonth.getFullYear(), doMonth.getMonth(), day);
                    column.innerText = autoLeftPad(exceptDay.getDate(), 2);
                    column.style.color = "#A9A9A9";
                }

                // @brief ì „ì›”, ëª…ì›” ìŒì˜ì²˜ë¦¬
                // @details í˜„ì¬ë…„ê³¼ ì„ íƒ ë…„ë„ê°€ ê°™ì€ê²½ìš°
                if (toDay.getFullYear() == nowDate.getFullYear()) {
                    // @details í˜„ì¬ì›”ê³¼ ì„ íƒì›”ì´ ê°™ì€ê²½ìš°
                    if (toDay.getMonth() == nowDate.getMonth()) {
                        // @details í˜„ì¬ì¼ë³´ë‹¤ ì´ì „ì¸ ê²½ìš°ì´ë©´ì„œ í˜„ì¬ì›”ì— í¬í•¨ë˜ëŠ” ì¼ì¸ê²½ìš°
                        if (nowDate.getDate() > day && Math.sign(day) == 1) {
                            column.style.backgroundColor = "#E5E5E5";
                        }

                        // @details í˜„ì¬ì¼ë³´ë‹¤ ì´í›„ì´ë©´ì„œ í˜„ì¬ì›”ì— í¬í•¨ë˜ëŠ” ì¼ì¸ê²½ìš°
                        else if (nowDate.getDate() < day && lastDate.getDate() >= day) {
                            column.style.backgroundColor = "#FFFFFF";
                            column.style.cursor = "pointer";
                            column.onclick = function () { calendarChoiceDay(this); }
                        }

                        // @details í˜„ì¬ì¼ì¸ ê²½ìš°
                        else if (nowDate.getDate() == day) {
                            column.style.backgroundColor = "#FFFFE6";
                            column.style.cursor = "pointer";
                            column.onclick = function () { calendarChoiceDay(this); }
                        }

                        // @details í˜„ì¬ì›”ë³´ë‹¤ ì´ì „ì¸ê²½ìš°
                    } else if (toDay.getMonth() < nowDate.getMonth()) {
                        if (Math.sign(day) == 1 && day <= lastDate.getDate()) {
                            column.style.backgroundColor = "#E5E5E5";
                        }
                    }

                    // @details í˜„ì¬ì›”ë³´ë‹¤ ì´í›„ì¸ê²½ìš°
                    else {
                        if (Math.sign(day) == 1 && day <= lastDate.getDate()) {
                            column.style.backgroundColor = "#FFFFFF";
                            column.style.cursor = "pointer";
                            column.onclick = function () { calendarChoiceDay(this); }
                        }
                    }
                }

                // @details ì„ íƒí•œë…„ë„ê°€ í˜„ì¬ë…„ë„ë³´ë‹¤ ì‘ì€ê²½ìš°
                else if (toDay.getFullYear() < nowDate.getFullYear()) {
                    if (Math.sign(day) == 1 && day <= lastDate.getDate()) {
                        column.style.backgroundColor = "#E5E5E5";
                    }
                }

                // @details ì„ íƒí•œë…„ë„ê°€ í˜„ì¬ë…„ë„ë³´ë‹¤ í°ê²½ìš°
                else {
                    if (Math.sign(day) == 1 && day <= lastDate.getDate()) {
                        column.style.backgroundColor = "#FFFFFF";
                        column.style.cursor = "pointer";
                        column.onclick = function () { calendarChoiceDay(this); }
                    }
                }
                dom++;
            }
        }

        // ë‚ ì§œ ì„ íƒ í•¨ìˆ˜
        function calendarChoiceDay(column) {
            // ê¸°ì¡´ ì„ íƒì¼ì´ ì¡´ì¬í•˜ëŠ” ê²½ìš° ê¸°ì¡´ ì„ íƒì¼ì˜ í‘œì‹œí˜•ì‹ì„ ì´ˆê¸°í™” í•œë‹¤.
            if (document.getElementsByClassName("choiceDay")[0]) {
                // ê¸ˆì¼ì¸ ê²½ìš°
                if (document.getElementById("calMonth").innerText == autoLeftPad((nowDate.getMonth() + 1), 2) && document.getElementsByClassName("choiceDay")[0].innerText == autoLeftPad(toDay.getDate(), 2)) {
                    document.getElementsByClassName("choiceDay")[0].style.backgroundColor = "#FFFFE6";
                } else { // ê¸ˆì¼ì´ ì•„ë‹Œ ê²½ìš°
                    document.getElementsByClassName("choiceDay")[0].style.backgroundColor = "#FFFFFF";
                }
                document.getElementsByClassName("choiceDay")[0].classList.remove("choiceDay");
            }
            // ì„ íƒì¼ ì²´í¬ í‘œì‹œ
            column.style.backgroundColor = "#FF9999";

            // ì„ íƒì¼ í´ë˜ìŠ¤ëª… ë³€ê²½
            column.classList.add("choiceDay");

            // í˜„ì¬ ì„ íƒëœ ë‚ ì§œ ì €ì¥
            const selectedDay = column.innerText;

            // ì‹œê°„ ì„ íƒ ìš”ì†Œ ë³´ì´ê²Œ í•˜ê¸°
            document.getElementById("hour-selection-header").classList.remove('hidden');
            document.getElementById("hour-buttons").classList.remove('hidden');

            // ì‹œê°„ ë²„íŠ¼ ìƒì„± ë° ì—…ë°ì´íŠ¸
            createHourButtons(selectedDay);
            // ì„ íƒëœ ì‹œê°„ ì´ˆê¸°í™”
            clearHourSelection();
            // ê¸°ì¡´ ì˜ˆì•½ ì¸ì› ì´ˆê¸°í™”
            clearReservation();
            // ê¸°ì¡´ ê³µê°„ ì‚¬ìš©ë£Œ ì´ˆê¸°í™”
            clearSpaceFee();
        }

        function clearHourSelection() {
            const hourButtonsContainer = document.getElementById('hour-buttons');
            hourButtonsContainer.querySelectorAll('.hour-button.selected').forEach(button => {
                button.classList.remove('selected');
            });
            firstSelectedButton = null;
            secondSelectedButton = null;
        }

        // ì¸ì›ìˆ˜ ì´ˆê¸°í™”
        function clearReservation() {
            const numberSet = document.querySelector('.number_set').value;
            numberSet.value = 3; // ìµœì†Œê°’ìœ¼ë¡œ ì´ˆê¸°í™”
        }

        // ê°€ê²© ì´ˆê¸°í™”
        function clearSpaceFee() {
            const priceElement = document.querySelector('.price');
            priceElement.innerHTML = ""; // ê³µê°„ ì‚¬ìš©ë£Œ ì´ˆê¸°í™”
        }

        function autoLeftPad(number, targetLength) {
            return String(number).padStart(targetLength, '0');
        }

        function createHourButtons(selectedDay) {
            const hourButtonsContainer = document.getElementById('hour-buttons');
            // let firstSelectedButton = null;
            // let secondSelectedButton = null;

            // Clear existing buttons
            hourButtonsContainer.innerHTML = '';

            // Generate buttons for 24 hours
            for (let hour = 10; hour < 24; hour++) {
                const button = document.createElement('button');
                button.classList.add('hour-button');
                button.classList.add(`d-${selectedDay}`); // Add class for selected day
                const formattedHour = autoLeftPad(hour, 2); // 2ìë¦¬ ìˆ«ìë¡œ ë§Œë“¤ê¸°
                button.textContent = `${formattedHour}ì‹œ ~ ${autoLeftPad(hour + 1, 2)}ì‹œ`;
                button.dataset.hour = hour; // hourë¥¼ ë°ì´í„° ì†ì„±ìœ¼ë¡œ ì €ì¥
                hourButtonsContainer.appendChild(button);

                // Restore previously selected hours for the currently selected day
                if (document.getElementsByClassName("choiceDay")[0]?.innerText === selectedDay && selectedDates[selectedDay]?.includes(hour)) {
                    button.classList.add('selected');
                }

                button.addEventListener('click', () => {
                    const hour = parseInt(button.dataset.hour);

                    // Check if the button has the 'blur' class
                    if (button.classList.contains('blur')) {
                        alert('ì„ íƒí•  ìˆ˜ ì—†ëŠ” ì‹œê°„ì…ë‹ˆë‹¤.');
                        clearSelection();
                        return;
                    }

                    if (!firstSelectedButton) {
                        clearSelection();
                        firstSelectedButton = button;
                        button.classList.add('selected');
                    } else if (firstSelectedButton === button) {
                        button.classList.remove('selected');
                        firstSelectedButton = null;
                    } else if (!secondSelectedButton) {
                        if (hour < parseInt(firstSelectedButton.dataset.hour)) {
                            firstSelectedButton.classList.remove('selected');
                            clearSelection();
                            firstSelectedButton = button;
                            button.classList.add('selected');
                        } else {
                            secondSelectedButton = button;
                            highlightRange(firstSelectedButton, secondSelectedButton);
                        }
                    } else if (secondSelectedButton === button) {
                        clearSelection();
                    } else {
                        clearSelection();
                        firstSelectedButton = button;
                        button.classList.add('selected');
                    }

                    updateSelectedHours(selectedDay);
                    updatePrice();
                });
            }

            function highlightRange(startButton, endButton) {
                clearSelection();
                const startHour = parseInt(startButton.dataset.hour);
                const endHour = parseInt(endButton.dataset.hour);

                for (let hour = startHour; hour <= endHour; hour++) {
                    const button = hourButtonsContainer.querySelector(`button[data-hour="${hour}"]`);
                    if (button.classList.contains('blur')) {
                        alert('ì„ íƒí•  ìˆ˜ ì—†ëŠ” ì‹œê°„ ë²”ìœ„ì…ë‹ˆë‹¤.');
                        clearSelection();
                        return;
                    }
                    button.classList.add('selected');
                }
            }

            function clearSelection() {
                hourButtonsContainer.querySelectorAll('.selected').forEach(button => {
                    button.classList.remove('selected');
                });
                firstSelectedButton = null;
                secondSelectedButton = null;
            }

            // Check if "choiceDay" class exists before removing "selected" class
            function updateSelectedHours(selectedDay) {
                if (!document.getElementsByClassName("choiceDay")[0]) {
                    clearSelection();
                }
                selectedDates[selectedDay] = [];
                hourButtonsContainer.querySelectorAll('.selected').forEach(button => {
                    selectedDates[selectedDay].push(parseInt(button.dataset.hour));
                });
            }
        }

        function plusminusbutton() {
            const numberInput = document.querySelector('.number_set');
            const minusButton = document.querySelector('.btn_minus');
            const plusButton = document.querySelector('.btn_plus');

            minusButton.addEventListener('click', function () {
                updateInputValue(-1);
            });

            plusButton.addEventListener('click', function () {
                updateInputValue(1);
            });

            function updateInputValue(change) {
                const newValue = parseInt(numberInput.value) + change;
                if (newValue >= 3 && newValue <= 12) {
                    numberInput.value = newValue;
                    updatePrice();
                }
            }
        }

        function updatePrice() {
            const selectedHour = document.querySelectorAll('.hour-button.selected').length; // ì„ íƒëœ ì‹œê°„ ìˆ˜
            const selectedPeople = parseInt(document.querySelector('.number_set').value); // ì„ íƒëœ ì¸ì› ìˆ˜

            const totalPrice = selectedPeople * selectedHour * pricePerHour;
            document.querySelector('.price').textContent = `${totalPrice}ì›`;
        }

        function initializeEventListeners() {
            document.querySelector('.number_set').addEventListener('change', updatePrice);
            document.querySelectorAll('input[name="price"]').forEach(button => {
                button.addEventListener('change', function () {
                    pricePerHour = parseInt(this.value);
                    updatePrice();
                });
            });
        }

        let pricePerHour = 1000; // ì‹œê°„ë‹¹ ì‚¬ìš©ë£Œ (ì˜ˆì‹œë¡œ 1000ì›)

        plusminusbutton();
        updatePrice();
        initializeEventListeners();


    </script>

</th:block>
</html>
